{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<h2>{{ title }}</h2>

<!-- Actions admin -->
<div class="form-actions">
    <a href="{% url 'catalogue:representation-edit' representation.id %}" class="btn btn-primary">âœï¸ Modifier</a>
    <a href="{% url 'catalogue:representation-delete' representation.id %}" class="btn btn-danger">ğŸ—‘ Supprimer</a>
</div>

<hr>

<!-- Infos gÃ©nÃ©rales -->
<p><strong>Spectacle :</strong> {{ representation.show.title }}</p>
<p><strong>Date :</strong> {{ representation.schedule|date:"d/m/Y H:i" }}</p>
<p><strong>Lieu :</strong> {{ representation.location.designation }}</p>
<p><strong>CapacitÃ© utilisÃ©e :</strong> {{ representation.capacity_used }} / 100</p>

<!-- Statut -->
<p><strong>Statut :</strong>
    {% if representation.is_expired %}
        <span class="text-danger">âŒ ExpirÃ©</span>
    {% elif representation.is_full %}
        <span class="text-warning">ğŸŸ¡ Complet</span>
    {% else %}
        <span class="text-success">âœ… RÃ©servable</span>
    {% endif %}
</p>

<hr>

<!-- RÃ©servation utilisateur -->
{% if has_reservation %}
    <p class="alert alert-success">âœ… Vous avez rÃ©servÃ© cette reprÃ©sentation.</p>
{% else %}
    {% if not representation.is_expired and not representation.is_full %}
        <a href="{% url 'catalogue:representation_reservation-multi-create' representation.id %}" class="btn btn-success">
            â• RÃ©server une ou plusieurs places
        </a>
    {% else %}
        <p class="alert alert-warning">âš ï¸ RÃ©servation impossible pour cette reprÃ©sentation.</p>
    {% endif %}
{% endif %}

<hr>

<a href="{% url 'catalogue:representation-index' %}" class="btn btn-secondary">ğŸ”™ Retour Ã  la liste</a>
{% endblock %}
